package com.test.project.controller;


import java.util.ArrayList;
import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import mul.camp.a.dto.MemberDto;
import mul.camp.a.service.MemberService;

@RestController // @Controller + ResponsBody -> Restful
public class HelloController {
	
	@Autowired
	MemberService service;
	

	@RequestMapping(value = "/base", method = RequestMethod.GET) //RequestMethod.GET 안적어도 자동으로 GET 설정되긴 한다.
	public String base() {
		System.out.println("HelloContoller base()");
		return "base";
		
	}
	
	@RequestMapping(value = "/connParamGet")
	public String connParamGet(String title) {
		System.out.println("HelloContoller connParamGet()");
		System.out.println("title: "+title);

		return "통신성공";
	}
	
	@RequestMapping(value = "/getMember")
	public MemberDto getMember() {
		System.out.println("HelloContoller getMember()");
		
		MemberDto dto = new MemberDto("abc","123","AAA","aa@naver.com",1);
		return dto;
		
	}
	
	@RequestMapping(value = "/getMemberList")
	public List<MemberDto> getMemberList(){
		System.out.println("HelloContoller getMemberList()");
		
		List<MemberDto> list = new ArrayList<MemberDto>();
		list.add(new MemberDto("abcd","1234","AAA5","a5a@naver.com",1));
		list.add(new MemberDto("3acd","1d234","aAAA5","ava@naver.com",2));
		list.add(new MemberDto("3adcd","1d23z4","aAAzA5","azva@naver.com",2));
		list.add(new MemberDto("ad-cd","1d239z4","aAdAzA5","azdva@naver.com",3));
		
		return list;
	}
	
	@RequestMapping(value="/dbTest")
	public List<MemberDto> dbTest(){
		System.out.println("HelloContoller dbTest()");
		
		List<MemberDto> list = service.allMember();
		
		return list;
	}
	
	
}